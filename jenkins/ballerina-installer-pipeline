node('BALLERINA_ECS'){
    isFail=0
    parallel (
    "CENTOS-BUILDER" : { 
                    stage('CENTOS-BUILDER'){
                         CENTOS_BUILDER = build job: '/installers/ballerina-installer-linux-rpm', parameters: [[$class: 'StringParameterValue', name: 'BALLERINA_VERSION', value: BALLERINA_VERSION]]
                         sh "echo $CENTOS_BUILDER.result"
                         if(CENTOS_BUILDER.result!="SUCCESS"){
                             isFail=1
                         }
                        }
                        },
    "MAC-BUILDER" : { 
                    stage('MAC-BUILDER'){
                         MAC_BUILDER = build job: '/installers/ballerina-installer-mac-pkg', parameters: [[$class: 'StringParameterValue', name: 'BALLERINA_VERSION', value: BALLERINA_VERSION]]
                         sh "echo $MAC_BUILDER.result"
                         if(MAC_BUILDER.result!="SUCCESS"){
                             isFail=1
                         }
                       }
                       },
    "UBUNTU-BUILDER" : {
                    stage('UBUNTU-BUILDER'){
                         UBUNTU_BUILDER = build job: '/installers/ballerina-installer-linux-deb', parameters: [[$class: 'StringParameterValue', name: 'BALLERINA_VERSION', value: BALLERINA_VERSION]]
                         sh "echo $UBUNTU_BUILDER.result"
                         if(UBUNTU_BUILDER.result!="SUCCESS"){
                             isFail=1
                         }
                        }
                        },
    "WINDOWS-BUILDER" : { 
                    stage('WINDOWS-BUILDER'){
                         WINDOWS_BUILDER = build job: '/installers/ballerina-installer-windows-msi', parameters: [[$class: 'StringParameterValue', name: 'BALLERINA_VERSION', value: BALLERINA_VERSION]]
                         sh "echo $WINDOWS_BUILDER.result"
                         if(WINDOWS_BUILDER.result!="SUCCESS"){
                             isFail=1
                         }
                        }
                        },
          )
          if (isFail==1){
            currentBuild.result = 'FAILURE'
            return
          }
}